<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <data>
    <!-- wizard print label-->
    <record id="view_label_stock_move" model="ir.ui.view">
      <field name="name">Print Label</field>
      <field name="model">label.stock.move</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <form string="Print Label">
          <group>
            <field name="printer_id"/>
          </group>
      
          <notebook>
            <page string="Information">
              <group >
                <field name="nb_label" />
                <field name="product_id" />
                <field name="prodlot_id" />
                <field name="date" on_change="on_change_date(date, lang)" />
                                <field name="date_format" invisible="1"/>
                <field name="weight" />
                <newline/>
                <field name="barcode" readonly="1"/>
              </group>
            </page>
            <page string="Translation">
              <group >
                <field name="lang" on_change="on_change_lang(lang, product_id)" />
                <field name="name" />
                <field name="prodlot_label" />
                <field name="code_label" />
                <field name="date_label" />
                <field name="weight_label" colspan="2"/>
              </group>
            </page>
          </notebook>
      
          <group >
            <button special="cancel" string="Cancel"/>
            <button name="valide" string="Print" type="object" icon="fa-print"/>
          </group>
        </form>
      </field>
    </record>
    <record id="action_label_stock_move" model="ir.actions.act_window">
      <field name="name">Print Label</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">label.stock.move</field>
      <field name="view_mode">form</field>
      <field name="target">new</field>
    </record>
    <record id="view_label_picking" model="ir.ui.view">
      <field name="name">Print Label</field>
      <field name="model">label.picking</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <form string="Print Label">
          <group>
            <field name="printer_id"/>
          </group>
      
          <group >
            <button  special="cancel" string="Cancel"/>
            <button name="valide" string="Print" type="object" icon="fa-print"/>
          </group>
        </form>
      </field>
    </record>
    <record id="action_label_picking" model="ir.actions.act_window">
      <field name="name">Print Label</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">label.picking</field>
      <field name="view_mode">form</field>
      <field name="target">new</field>
    </record>
    <record id="view_picking_in_label_button_form" model="ir.ui.view">
      <field name="name">stock.picking.in.label.form</field>
      <field name="model">stock.picking</field>
      <field name="inherit_id" ref="stock.view_picking_form"/>
      <field name="priority">110</field>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='move_line_ids_without_package']" position="replace">

           <field name="move_line_ids_without_package" attrs="{'readonly': ['|', '|', ('show_operations', '=', False), ('state', '=', 'cancel'), '&amp;', ('state', '=', 'done'), ('is_locked', '=', True)], 'invisible': [('show_reserved', '=', False)]}" context="{'tree_view_ref': 'stock.view_stock_move_line_detailed_operation_tree', 'default_picking_id': id, 'default_location_id': location_id, 'default_location_dest_id': location_dest_id, 'default_company_id': company_id}">
            <tree>

          <button name="%(action_label_stock_move)d" string="Print Label" type="action" icon="fa-print"/>
        </tree>
      </field>
        </xpath>
        <xpath expr="//button[@name='action_cancel']" position="after">
          <button name="%(action_label_picking)d" string="Print Label" type="action" icon="fa-print" />
        </xpath>
      </field>
    </record>


  <record id="view_picking_in_label_button_tree" model="ir.ui.view">
      <field name="name">stock.picking.in.label.tree</field>
      <field name="model">stock.move.line</field>
      <field name="inherit_id" ref="stock.view_stock_move_line_detailed_operation_tree"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='product_uom_id']" position="after">
                    
          <button name="%(action_label_stock_move)d" string="Print Label" type="action" icon="fa-print"/>
        </xpath>
      </field>
    </record>






    <record id="view_prodlot_label_button_form" model="ir.ui.view">
      <field name="name">stock.production.label.form</field>
      <field name="model">stock.lot</field>
      <field name="inherit_id" ref="stock.view_production_lot_form"/>
      <field name="priority">30</field>
      <field name="arch" type="xml">
        <xpath expr="//button[@name='action_lot_open_transfers']" position="before">
          <button name="%(action_label_stock_move)d" string="Print Label" type="action" icon="fa-print"/>
        </xpath>
      </field>
    </record>



  </data>
</odoo>
